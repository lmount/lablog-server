{% extends "layout.html" %}
{% block content %}
<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> -->
<h1><a href="/">Snippet Search, Live!</a> <small><a href="subl:///Users/lmount/Dropbox/Projects/LaBlog/">repo</a></small></h1>
<form method="post" action="{{ url_for('signup') }}">
    <!-- <p><label>Username:</label> <input type="text" name="username" value="{{username}}" ></p> -->
    <!-- <p><label>Query:</label> <input type="text" id=query name="query" value="{{query}}" onkeyup="update_values()" class="input-medium search-query" required> -->
    <label>Query:</label>
    <div class="row">
        <div class="col-lg-6">
            <div class="input-group">
                <input type="text" id=query name="query" value="{{query}}" class="form-control">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-default " type="button">Go!</button> 
                </span>
            </div><!-- /input-group -->
        </div><!-- /.col-lg-6 -->
    </div><!-- /.row -->
</form>
<form method="post" action="{{ url_for('rebuild') }}">
    <button type="submit" class="btn btn-default " type="button">Rebuild DB</button>
    <span id=numberOfEntries> {{ numberOfEntries | safe}} </span>
</form>
<p id=message>
    {% for entry in entries %}
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3>{{ entry["headr"] | safe }}</h3>
            <a href=subl://{{entry["file"]}}:{{entry["line"]}}>{{ entry["filename"] | safe }}</a>
            <code>{{ entry["tags"] | safe }}</code>
        </div>
        <div class="panel-body scrollable">
            {{ entry["text"] | safe }}
        </div>
    </div>
    <br\><br\>
    {% endfor %}
</p>
<p/>
{% endblock %}